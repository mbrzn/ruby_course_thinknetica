= Железная дорога, симулятор

== Диаграмма вариантов использования программы

Идея программы представлена на диаграмме использования и включает в себя:
* пользователей программы в их ролевом представлении
* функции программы и их взаимодействие

[plantuml, usecase, png]
----
include::usecase.puml[]
----

* диспетчер 
  * рамчитввпет оптималбнвй маршрут
  * состпвляет очереди 

== Диграмма классов

Структур данных классов, приведена в таблице.

.Car
[width=92]
[cols="10h,10,~,10,~"]
|===
|*Атрибут*  |*Ключ*  |*Тип*  |*Не пустой*  |*Описание*

|Цвет
|color
|Однострочный текст
|true
|Цвет автомобиля

Длинна не более 255 символов

По умолначнию `white`

|Надпись на двери
|door_title
|Однострочный текст
|false
|Имя владельца автомобиля

|Номер
|number
|Целое число
|true
|Регистрационный номер автомобиля

|===

.Car
|===
|*Метод*  |*Ключ*  |*Тип*  |*Описание*
  +beep()
|Звуковой сигнал
|beep
|Однострочный текст
|Звук издаваемый клаксоном

|===

.Класс Car
[source,ruby]
----
# ./car.rb

class Car
  attr_accessor :color
  attr_reader :door_title, :number

  def initialize(number)
    @number = number
    @color = 'white'
  end

  def beep
    puts 'beep beep'
  end

  def change_door_title(driver)
    @door_title = driver.name if driver.cars.include?(self)
  end
end
----

.Человек
[width=92]
[cols="10h,10,~,10,~"]
|===
|*Атрибут*  |*Ключ*  |*Тип*  |*Не пустой*  |*Описание*

|Имя
|name
|Однострочный текст
|true
|Имя человека

Длинна не более 255 символов

|Автомобили
|cars
|Массив
|false
|Множество автомобилей, принадлежащих человеку

|===

class Human{
  +name:      String
  +cars:     Array
  +buy_car()
  +change_door_title()
}
.Human
|===
|*Метод*  |*Ключ*  |*Тип*  |*Описание*

|Купить авто
|buy_car
|Однострочный текст
|Получить общественное право владеть авто

|Надписать дверь
|change_door_title
|Однострочный текст
|Сделать надпись на двери авто

|===

.Класс Человек
[TIP]
================================
Что есть человек?

* самостоятельный класс
* машины - прилагаемые к человeку
================================


.Класс Human
[source,ruby]
----
# ./driver.rb

class Driver
  attr_reader :name, :cars

  def initialize(name)
    @name = name
    @cars = []
  end

  def buy_car(car)
    @cars << car
  end
end
----

xref:../index.adoc[Назад]
